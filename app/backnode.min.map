{"version":3,"file":"backnode.min.js","sources":["backnode.js"],"names":["BackNode","iframe","this","file","document","contentDocument","editor","parent","baliseSearch","ckeditor","gitPath","fileSaved","prototype","explorer","pick","callback","notHide","$","show","cloudExplorer","data","window","resize","hide","save","serializer","XMLSerializer","content","serializeToString","write","backNode","indexOf","src","push","replace","location","host","bind","git","search","filePath","fileName","deployButton","path","on","showDeployWindow","deploy","showDeploySaved","dropboxPath","get","response","d","JSON","parse","removeClass","addClass","deployKey","socket","io","connect","hostname","getDeployStatus","modal","html","deployJustGit","templateCB","length","i","hasOwnProperty","append","fileToDeploy","_this","each","checked","splice","name","files","code","split","editable","listEditableContent","flagEditable","iframeDocument","iframeWindow","contentWindow","key","tagName","click","editPicture","attr","css","head","CKEDITOR","inlineAll","find","remove","keyb","unbind","removeAttr","instances","destroy","s","getElementsByTagName","innerHTML","removeChild","addCkeditor","script","createElement","body","appendChild","cleanCkeditor","cleanRessource","type","tabToRemove","nodeArray","l","node","href","index","parentNode","picture","popinpicture","alt","editingPicture","undefined","contentPopinpicture","URL","slideDown","e","preventDefault","val","slideUp","getList","list","concat","getListForSelector","bnTexts","bnImages","bnTemplates","bnRepeats","parents","size","console","warn","is","subTemplate","DOM","repeats","subRepeat","edit"],"mappings":"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"}