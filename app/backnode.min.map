{"version":3,"file":"backnode.min.js","sources":["backnode.js"],"names":["BackNode","iframe","this","file","document","contentDocument","editor","parent","baliseSearch","ckeditor","gitPath","fileSaved","prototype","explorer","pick","callback","notHide","$","show","cloudExplorer","data","window","resize","hide","save","serializer","XMLSerializer","content","serializeToString","write","backNode","git","STATES","CONNECT","INIT","GO_DEPLOY","DEPLOY","DOWNLOAD_FINISH","SCAN_FINISH","getUI","ui","container","progressBar","progressBarCurrent","btDeploy","btCreate","inputCreate","boxCreate","boxDeploy","textDeploy","textManGit","textGitHubPageUrl","textProgressBar","textUserProfile","imageUserProfile","templateCB","search","path","deployButton","bind","on","showDeployWindow","deploy","createRepo","dropboxPath","get","response","d","JSON","parse","deployKey","socket","io","connect","location","hostname","getDeployStatus","getToken","token","updateDeployButton","client_id","client_secret","client_redirect","appId","console","warn","state","access_token","html","addClass","className","modal","attr","open","Date","now","initOnUrl","accessToken","append","code","replace","indexOf","removeClass","tabDl","split","toWidth","Math","ceil","parseInt","css","name","repoUrl","user_infos","o","updateProfile","avatar_url","login","avatar","userName","editable","listEditableContent","flagEditable","iframeDocument","iframeWindow","contentWindow","key","tagName","click","editPicture","length","head","CKEDITOR","inlineAll","find","remove","keyb","unbind","removeAttr","instances","hasOwnProperty","destroy","s","getElementsByTagName","i","innerHTML","removeChild","addCkeditor","script","createElement","src","body","appendChild","cleanCkeditor","cleanRessource","type","tabToRemove","nodeArray","push","l","node","href","index","parentNode","picture","popinpicture","alt","editingPicture","undefined","contentPopinpicture","URL","slideDown","e","preventDefault","val","slideUp","getList","list","concat","getListForSelector","bnTexts","bnImages","bnTemplates","bnRepeats","each","parents","size","is","subTemplate","DOM","repeats","subRepeat","edit"],"mappings":"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"}